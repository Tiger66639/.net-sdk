{
    "resource": [
        {
            "event_name": "sample-scripts",
            "file_mtime": 1430381863,
            "file_name": "sample-scripts.js",
            "file_path": "C:\\Bitnami\\dreamfactory-1.9.1-1\\apps\\dreamfactory\\htdocs/storage/.private/scripts\\sample-scripts.js",
            "is_user_script": false,
            "language": "js",
            "script": "sample-scripts.js",
            "script_body": "//\tHere are a few examples to get you started.\n\n//****************** Working with System Events ******************\n\n//\tsystem.users.list.js\n//\tA script to be run when the event 'system.users.list' is triggered by a GET on /rest/system/user\n\nvar ENABLE_ADD_PROPERTY = true;\n\nif (event.request.body.record) {\n\t_.each(event.request.body.record, function(record, index, list) {\n\t\trecord.banned_for_life = ENABLE_ADD_PROPERTY && 'scripts@dreamfactory.com' == record.email;\n\n\t\tprint(record.email + ' is ' + (\n\t\t\trecord.banned_for_life ? '' : 'not'\n\t\t) + ' banned for life.');\n\t});\n}\n\n//\tsystem.apps.create.js\n//\tA script to be run when the event 'system.apps.create' is triggered by a POST to /rest/system/app\n\n//\tInspect the inbound request\nif (event.request.body.record) {\n\t//\tLoop through the record array and modify the data before it gets to the database.\n\t_.each(event.request.body.record, function(record, index, list) {\n\t\trecord.api_name = 'user_' + record.api_name;\n\t});\n}\n\n//****************** Local Database Events ******************\n\n//\tdb.todo.select.js\n//\tA script to be run when the event 'db.todo.select' is triggered by a GET to /rest/db/todo\n\n//\tRename all outbound to-do items to be the same string\nif (event.request.body.record) {\n\t_.each(event.request.body.record, function(record, index, list) {\n\t\trecord.name = 'Feed the dogs again';\n\t});\n}\n\n//\tdb.todo.insert.js\n//\tA script to be run when the event 'db.todo.select' is triggered by a POST to /rest/db/todo\n\nif (event.request.body.record) {\n\t//\tLoop through the record array and add a complete indicator\n\t_.each(event.request.body.record, function(record, index, list) {\n\t\trecord.complete = false;\n\t});\n}",
            "script_id": "sample-scripts"
        }
    ]
}
